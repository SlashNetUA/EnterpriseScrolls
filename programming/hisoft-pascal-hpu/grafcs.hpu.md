# Опис бібліотеки
HiSoft Pascal не містить жодних графічних інструкцій, і, на відміну від версії Spectrum, для версії Enterprise офіційно не було створено жодної зовнішньої колекції підпрограм. Цей недолік був заповнений колекцією графічних підпрограм PoviSoft, яка містить усі графічні функції, що підтримуються EXOS (і деякі додаткові, складніші функції).
Ви можете додати бібліотеку у вашу програму за допомогою директиви **F** (див. [Додаток B](../../manuals/hisoft-pascal-man-en/man_s3-2-compile-options.md#Option%20F)), але оскільки вона використовує процедуру SETVAR, ви також повинні спочатку завантажити бібліотеку [OS.HPU](os.hpu.md):

```
{$F OS.HPU }
{$F GRAFCS.HPU }
```

Колекція підпрограм містить наступні процедури (всі параметри в процедурах мають тип [INTEGER](../../manuals/hisoft-pascal-man-en/man_s1-3-uns-number.md), тому ми не будемо їх тут згадувати!):

## GrafON (ch, mode, color, xsize, ysize)
Створити відеосторінку з номером каналу **CH** з відеорежимом **MODE**, кольоровим режимом **COLOR**, розмірами **XSIZE** та **YSIZE** (розміри у знакомісцях текстового режиму 40).

## GrafOFF (ch)
Закрити попередньо відкритий канал **CH**. Може використовуватися для закриття будь-якого каналу. Не забудьте закрити усі відкриті відеосторінки перед завершенням програми!

## Display (ch, at, from, to)
Відобразити створену сторінку відео з номером каналу **CH**. Параметр **AT** - це позиція, де буде розміщено верхній рядок сегмента. Параметри **FROM** і **TO** є символьними рядками сторінки, яка має відображатися, і визначають верхній і нижній рядки сегмента.

## GoXY (ch, x, y)
Поставити текстовий курсор на відеосторінці **CH** по координатах **X** (колонка) та **Y** (рядок). Не впливає на розміщення графічного променя.

## Clear (ch)
Очищення відеосторінки **CH**.

## Mode40
Відкриває текстову відеосторінку за замовчуванням (номер каналу 120), яка використовується HiSoft Pascal у режимі **40** символів.

## Mode80
Відкриває текстову відеосторінку за замовчуванням (номер каналу 120), яка використовується HiSoft Pascal у режимі **80** символів.

## Character (n, r1, r2, r3, r4, r5, r6, r7, r8, r9)
Призначити форму символу з номером **N** (ASCII). Кожен параметр відповідає рядку, рухаючись зверху вниз.

## Plot (ch, x, y)
Перемістити промінь малювання на графічній відеосторінці з номером каналу **CH** в положення **X**, **Y**. Якщо промінь малювання увімкнений, то буде проведена лінія від попередньої позиції променя.

## PlotRel (ch, x, y)
Перемістити промінь малювання на графічній відеосторінці з номером каналу **CH** з поточної позиції на відстань **X**, **Y**. Тобто **X** і **Y** є відносними координатами, тому вони також можуть набувати від’ємних значень. Якщо промінь малювання увімкнений, то буде проведена лінія від попередньої позиції променя.

## BeamON (ch)
Увімкнути промінь малювання на відеосторінці з номером каналу **CH**.

## BeamOFF (ch)
Вимкнути промінь малювання на відеосторінці з номером каналу **CH**.

## Fill (ch)
Заповнити закритий контур фігури поточним кольором чорнила, починаючи з поточної позиції променя відеосторінки з номером каналу **CH**.

## MoveTo (ch, x, y)
Перемістити промінь малювання в положення **X**, **Y** без малювання лінії на відеосторінці **CH**.

## MoveRel (ch, x, y)
Перемістити промінь малювання на відстань **X**, **Y** без малювання лінії на відеосторінці **CH**. **X** і **Y** є відносними координатами, тому вони також можуть набувати від’ємних значень.

## Draw (ch, x1, y1, x2, y2)
Намалювати лінію між точками з координатами **X1**,**Y1** і **X2**,**Y2** на відеосторінці з номером каналу **CH**.

## Box (ch, x1, y1, x2, y2)
Намалювати прямокутник на відеосторінці з номером каналу **CH**. Два протилежні кути прямокутника є точками з координатами **X1**,**Y1** і **X2**,**Y2**.

## Ellipse (ch, x, y)
Намалювати еліпс на відеосторінці з номером каналу **CH** із центром у поточній позиції променя малювання. **X** — горизонтальний радіус еліпса, **Y** — вертикальний радіус. Якщо **X** і **Y** рівні, буде намальоване коло. Якщо ви не хочете, щоб точка в центрі еліпса була видимою, вимкніть промінь малювання перед вибором центральної точки.

## Palette (ch, c0, c1, c2, c3, c4, c5, c6, c7)
Встановити палітру кольорів для відеосторінки з номером каналу **CH**. Значення **C0**-**C7** повинні бути вказані навіть у графічних режимах з двома та чотирма кольорами.

## Ink (ch, color)
Встановити колір чорнила на відеосторінці з номером каналу **CH** на номер кольору **COLOR** у палітрі кольорів.

## Paper (ch, color)
Встановити колір паперу на відеосторінці з номером каналу **CH** на номер кольору **COLOR** у палітрі кольорів.

## LineStyle (ch, style)
Вибрати стиль лінії на відеосторінці з номером каналу **CH** в залежності від значення параметра **STYLE** (**1**-**14**).

![](../../manuals/is-basic-man-en/line-style.png)

## LineMode (ch, mode)
Визначити взаємодію кольорів між старими та новими лініями екрана на відеосторінці з номером каналу **CH**. У режимі **0** (за замовчуванням) кольори нових рядків перезаписують старі, тоді як в інших режимах кольори поєднуються наступним чином:  

- **1**: або (OR)  
- **2**: і (AND)  
- **3**: виключний або (XOR).

## VSyncWait (n)
NICK дозволяє вам чекати в залежності від тактового сигналу. Оскільки він не залежить від тактової частоти процесора, він призупиняє виконання програми на однаковий час на турбо/нетурбо машинах. Якщо код, що виконується між викликами або обробкою переривань EXOS, є повільним, переривання можуть бути втрачені, і в цьому випадку час очікування може дещо залежати від тактової частоти процесора. **N** - 8-бітний параметр, **0** відповідає **256** (найдовше очікування).

## Інше
### Налаштування Attributes
Для налаштування [ATTRIBUTES](../../manuals/is-basic-man-en/options/man_vo-attributes.md) немає окремої процедури, але для зміни цього параметра достатньо запису трьох байтів у потрібний відеоканал: `Chr(27),'a',Chr(x)`.  
Де **x** — це значення, яке ви хочете встановити.

### Запис у конкретний канал
Процедури **WRITE** та **WRITELN** у HiSoft Pascal записують дані у канал **EDITOR** за замовчуванням (**121**). Однак, область дії процедур **WRITE**, **WRITELN** та **GOTOXY** (**CLRSCR** у версії 1.2) можна змінити на будь-який відеоканал за допомогою наступної команди (де **chan** це потрібний номер каналу):

```
Poke (£0328, chr(chan));
```

Відтепер ми можемо записувати у вказаний канал, доки не змінимо номер відеосторінки за замовчуванням за допомогою наступної інструкції `Poke(£0328,...)`. Однак, перед завершенням програми необхідно відновити стан за замовчуванням (121 – номер каналу редактора):

```
Poke (£0328, chr(121));
```