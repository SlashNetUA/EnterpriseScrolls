# Керуючі символи та Escape-послідовності

Одним із варіантів введення послідовностей у конкретний канал є команда [PRINT](../is-basic_man-en/man_cs-print.md) Бейсіка:  
```
PRINT #ch:CHR$(27);"o";
```
наприклад, цей рядок приховає курсор на конкретній відеосторінці, а:
```
PRINT #102:CHR$(27);"M1";
```
змінить колір курсору на зелений.

Escape-послідовності можна зберігати у файл і звідти їх зчитувати.

Наприклад esc-послідовність для зміни символів можна зберегти у файл за допомогою наступної програми на Бейсіку:
```
5 OPEN #1:"ESCFONT.BIN" ACCESS OUTPUT

10 SET #1:CHARACTER 32,2,63,63,1,6,0,0,1,102
10 SET #1:CHARACTER 33,2,63,63,120,120,0,0,1,102

100 CLOSE #1
```

А потім завантажити у потрібний канал:
```
100 OPEN #1:"ESCFONT.BIN" ACCESS INPUT
110 COPY FROM #1 TO #102
120 CLOSE #1
```

## Для усіх відеосторінок

| Символ | HEX | DEC | Опис                                                                                                                                                             |
|:------:|:---:|:---:| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  `^Z`  | 1Ah | 26  | Очистити екран та встановити курсор/промінь на початкову позицію.                                                                                                |
|  `^J`  | 0Ah | 10  | Line-feed. Перемістити курсор донизу на наступний рядок (якщо курсор внизу текстового екрану то здійснюється прокрутка екрану за умови що прокручування активне) |
|  `^M`  | 0Dh | 13  | Carriage return. Повертає курсор на початок поточного рядка.                                                                                                     |
|  `^^`  | 1Eh | 30  | Встановити курсор/промінь на початкову позицію (ASCII RS).                                                                                                                                                                 |

| Символ  |   HEX    |  DEC   | Опис                            | Опис                                |
|:-------:|:--------:|:------:| ------------------------------- | ----------------------------------- |
| `esc K` | 1Bh, 4Bh | 27, 75 | Змінити вигляд символу          | [детальніше](esc-seq/1b4b-video.md) |
| `esc С` | 1Bh, 43h | 27, 67 | Встановити усі кольори палітри  | [детальніше](esc-seq/1b43-video.md) |
| `esc с` | 1Bh, 63h | 27, 99 | Змінити колір палітри           | [детальніше](esc-seq/1b63-video.md) |
| `esc I` | 1Bh, 49h | 27, 73 | Вибрати колір "чорнила"         | [детальніше](esc-seq/1b49-video.md) |
| `esc P` | 1Bh, 50h | 27, 80 | Вибрати колір "паперу"          | [детальніше](esc-seq/1b50-video.md) |
| `esc =` | 1Bh, 3Dh | 27, 61 | Встановити курсор на координати | [детальніше](esc-seq/1b3d-video.md) |

## Для текстових відеосторінок

| Символ | HEX | DEC | Опис                                       |
|:------:|:---:|:---:| ------------------------------------------ |
|  `^Y`  | 19h | 25  | Очистити рядок від курсора до кінця рядка. |
|  `^H`  | 08h |  8  | Перемістити курсор вліво (ASCII BS).       |
|  `^I`  | 09h |  9  | Перемістити курсор вправо (ASCII TAB).     |
|  `^K`  | 0Bh | 11  | Перемістити курсор догори (ASCII VT).      |
|  `^V`  | 16h | 22  | Перемістити курсор униз (ASCII SYN).       |

| Символ  |   HEX    |   DEC   | Опис                                        | Опис                                     |
|:-------:|:--------:|:-------:| ------------------------------------------- | ---------------------------------------- |
| `esc ?` | 1Bh, 3Fh | 27, 63  | Отримати поточні координати курсора         | [детальніше](esc-seq/1b3f-video-text.md) |
| `esc .` | 1Bh, 2Eh | 27, 46  | Змінити символ курсора на інший код символа | [детальніше](esc-seq/1b2e-video-text.md) |
| `esc M` | 1Bh, 4Dh | 27, 77  | Змінити колір курсора                       | [детальніше](esc-seq/1b4d-video-text.md) |
| `esc O` | 1Bh, 4Fh | 27, 79  | Відобразити курсор                          | [детальніше](esc-seq/1b4f-video-text.md) |
| `esc o` | 1Bh, 6Fh | 27, 111 | Приховати курсор                            | [детальніше](esc-seq/1b6f-video-text.md) |
| `esc S` | 1Bh, 53h | 27, 83  | Дозволити автоматичну прокрутку екрану      | [детальніше](esc-seq/1b53-video-text.md) |
| `esc s` | 1Bh, 73h | 27, 115 | Заборонити автоматичну прокрутку екрану     | [детальніше](esc-seq/1b73-video-text.md) |
| `esc U` | 1Bh, 55h | 27, 85  | Прокрутити екран догори                     | [детальніше](esc-seq/1b55-video-text.md) |
| `esc D` | 1Bh, 44h | 27, 68  | Прокрутити екран донизу                     | [детальніше](esc-seq/1b44-video-text.md) |

## Для графічних відеосторінок

| Символ  |   HEX    |   DEC   | Опис                                                                         | Опис                                      |
|:-------:|:--------:|:-------:| ---------------------------------------------------------------------------- | ----------------------------------------- |
| `esc A` | 1Bh, 41h | 27, 65  | Встановити промінь на координати                                             | [детальніше](esc-seq/1b41-video-graph.md) |
| `esc R` | 1Bh, 52h | 27, 82  | Перемістити промінь                                                          | [детальніше](esc-seq/1b52-video-graph.md) |
| `esc @` | 1Bh, 40h | 27, 64  | Отримати поточні координати променю                                          | [детальніше](esc-seq/1b40-video-graph.md) |
| `esc S` | 1Bh, 53h | 27, 83  | Увімкнути промінь                                                            | [детальніше](esc-seq/1b53-video-graph.md) |
| `esc s` | 1Bh, 73h | 27, 115 | Вимкнути промінь                                                             | [детальніше](esc-seq/1b73-video-graph.md) |
| `esc .` | 1Bh, 2Eh | 27, 46  | Змінити Line style                                                           | [детальніше](esc-seq/1b2e-video-graph.md) |
| `esc M` | 1Bh, 4Dh | 27, 77  | Змінити Line mode                                                            | [детальніше](esc-seq/1b4d-video-graph.md) |
| `esc a` | 1Bh, 61h | 27, 97  | Змінити тип малювання у атрибутному режимі                                   | [детальніше](esc-seq/1b61-video-graph.md) |
| `esc F` | 1Bh, 46h | 27, 70  | Заповнити замкнений контур кольором                                          | [детальніше](esc-seq/1b46-video-graph.md) |
| `esc E` | 1Bh, 45h | 27, 69  | Намалювати еліпс                                                             | [детальніше](esc-seq/1b45-video-graph.md) |
| `esc ?` | 1Bh, 3Fh | 27, 63  | Отримати поточні координати курсора <br>*(тільки для атрибутного відеорежиму)* | [детальніше](esc-seq/1b3f-video-text.md)  |

## Для аудіоканалів

| Символ | HEX | DEC | Опис                                                                                                                                                |
|:------:|:---:|:---:| --------------------------------------------------------------------------------------------------------------------------------------------------- |
|  `^Z`  | 5Ah | 90  | Очистити усі звукові черги ([CLEAR SOUND](../is-basic_man-en/man_cs-clear.md))                                                                        |
|  `^X`  | 58h | 88  | Очистити усі визначення огинаючих ([CLEAR ENVELOPE](../is-basic_man-en/man_cs-clear.md))                                                              |
|  `^G`  | 47h | 71  | Генерує звук [PING](../is-basic_man-en/man_cs-ping.md) на тональному каналі 2 <br>*(нічого не робить, якщо тональний канал 2 вже використовується)* |


| Символ  |   HEX    |  DEC   | Опис                             | Опис                                |
|:-------:|:--------:|:------:| -------------------------------- | ----------------------------------- |
| `esc E` | 1Bh, 45h | 27, 69 | Ввід огинаючої                   | [детальніше](esc-seq/1b45-audio.md) |
| `esc S` | 1Bh, 53h | 27, 83 | Генерація звука                  | [детальніше](esc-seq/1b53-audio.md) |
| `esc Z` | 1Bh, 5Ah | 27, 90 | Очистити конкретну звукову чергу | [детальніше](esc-seq/1b5A-audio.md) |

# Читання даних з відеосторінок

За допомогою команди Бейсіку [GET](../is-basic_man-en/man_cs-get.md) можна зчитувати дані з відеоканалів.

Коли символ зчитується з відеосторінки, результат залежить від відеорежиму. З *текстових* буде повернуто ASCII-код символу у позиції курсора без переміщення курсора. З *графічних* буде повернуто колір палітри пікселя у поточній позиції променя. Це буде **0** або **1** у *двоколірному режимі*, **0**—**3** у *чотириколірному режимі*, **0**—**15** у *шістнадцятиколірному* чи *атрибутному режимах* та **0**—**255** у *256-колірному режимі*.


When a character is read from the video driver the result depends on the mode. In text modes the ASCII code of the character at the cursor position will be returned, without moving the cursor. In graphics mode the palette colour of the pixel at the current beam position will be returned. This will be **0** or **1** in *two colour mode*, **0**—**3** in *four colour mode*, **0**—**15** in *sixteen colour* or *attribute modes* and **0**—**255** in *256 colour mode*.

