# Function 81h: Define Abort Routine

## Parameters

**DE** = Address of abort routine

## Results

None

## Description

Register DE contains the address of a routine which will be called by IS-DOS when the program is terminated. The routine will only be called if termination results from the user pressing '**Ctrl-C**', an abort response from a disk error, or the program itself making a [function call 80h](f80h.md). It is not called for normal CP/M type exits ([function call 00h](f00h.md), return or '**JP 0**').

When the abort routine is called, the error code which is going to be returned to IS-DOS will be in register **A**, and all other main registers will be undefined. The abort routine itself can make any desired IS-DOS calls to tidy things up, but care should be taken to avoid recursion. When the abort routine has finished, it should exit with a '**JMP 0000h**', which will finally transfer control to IS-DOS.

Most programs will not require an abort routine. It is provided particularly for EXOS specific programs which may have opened channels, since these must close them again before returning to IS-DOS.
