# Function 11h: Search for First

## Parameters

**DE** = Pointer to unopened FCB

## Results

**L**=**A** =
 - **00h**: if file is found
 - **FFh**: if file not found

## Description

This function searches the current directory of the drive specified in the FCB (default drive if FCB contains zero) for a file which matches the filename and extension in the FCB. The filename may be ambiguous (containing `?` characters), in which case the first match will be found. The low byte of the extent field will be used, and a file will only be found if it is big enough to contain this extent number. Normally the extent field will be set to zero by the program before calling this function. System file and sub-directory entries will not be found.

If a suitable match is found (**A**=**0**), then the directory entry will be copied to the DTA address, preceded by the drive number. This can be used directly as an FCB for an [OPEN](f0fh.md) function call if desired. The extent number will be set to the low byte of the extent from the search FCB, and the record count will he initialized appropriately (as for [OPEN](f0fh.md)). This means that the attributes byte in the directory entry will not be available because it will have been replaced by the extent number. The format of directory entries is described in the separate EXDOS specification.

If mo match is found (**A**=**FFh**), then the DTA will not be altered. In no case will the FCB pointed to by **DE** be modified at all. This function remembers sufficient information internally to allow it to continue the search with a '[SEARCH FOR NEXT](f12h.md)' function.

In CP/M, if the drive number is set to `?` in this function, then all directory entries, allocated or free, will be matched. Also, if the extent field is set to `?`, then any extent of a file will be matched. Both of these features are normally only used by special purpose CP/M programs which are generally specific to the CP/M filing system (such as 'STAT'). Neither feature is present in MSX-DOS 1.0 (although the documentation claims that they are). IS-DOS does not implement these features.
