# 5. Screen Output

Below is a list of all control codes and escape sequences which may be used when doing console output by IS-DOS calls or BIOS calls. When the fast video driver is being used, these codes are handled directly. For the normal EXOS video driver, the codes are translated internally by IS-DOS. This ensures that the control sequences are identical, so that the same program can work with either driver. The only difference is that some of the colour pairs are different, and the fast video cursor flashes.

The screen is **24** lines of **80** characters. When a printing character is displayed, the cursor is moved to the next position, or, at the end of a line, to the start of the next line. If a character is written in the bottom right position, then the screen will be scrolled to allow the cursor to be positioned at the start of the next line. The letters in escape sequences must be in the correct case; the spaces are inserted for readability, and are not part of the sequence. Numbers (indicated by **\<n\>** or **\<m\>**) are included in the sequence as a single byte usually with an offset of **20h** added.

|                   | Hex code | Description                                                                                                                                                                     |
|:-----------------:|:--------:| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|      Ctrl-G       |   07h    | Bell.                                                                                                                                                                           |
|      CtrL-H       |   08h    | Cursor left, wraps around to previous line, stop at top left of screen.                                                                                                         |
|      Ctrl-I       |   09h    | Tab, overwrites with spaces up to next 8th column, wraps around to start of next line, scrolls at bottom right of screen.                                                       |
|      Ctrl-J       |   0Ah    | Line feed, scrolls if at bottom of screen.                                                                                                                                      |
|      Ctrl-K       |   0Bh    | Cursor home.                                                                                                                                                                    |
|      Ctrl-L       |   0Ch    | Clear screen and home cursor.                                                                                                                                                   |
|      Ctrl-M       |   0Dh    | Carriage return.                                                                                                                                                                |
|      Ctrl-Y       |   19h    | Erase to end of line, don't move cursor.                                                                                                                                        |
|      Ctrl-\[      |   1Bh    | ESC - see below for escape sequences.                                                                                                                                           |
|      Ctrl-\\      |   1Ch    | Cursor right, wrap around to next line, stop at bottom right of screen.                                                                                                         |
|      Ctrl-\]      |   1Dh    | Cursor left, wrap around to previous line, stop at top left of screen.                                                                                                          |
|      Ctrl-^       |   1Eh    | Cursor up, stop at top of screen.                                                                                                                                               |
|      Ctrl-\_      |   1Fh    | Cursor down, stop at bottom of screen.                                                                                                                                          |
|                   |   7Fh    | Delete character and move cursor left, wrap around to previous line, stop at top of screen.                                                                                     |
|       Esc A       |          | Cursor up, stops at top of screen.                                                                                                                                              |
|       Esc B       |          | Cursor down, stops at bottom of screen.                                                                                                                                         |
|       Esc C       |          | Cursor right, stops at end of line.                                                                                                                                             |
|       Esc D       |          | Cursor left, stops at start of line.                                                                                                                                            |
| Esc d \<n\> \<m\> |          | Scroll down lines **n** to **m** inclusive, leaving new line **m** blank. Lines are numbered starting with top line as 20h.                                                     |
|       Esc E       |          | Clear screen and home cursor.                                                                                                                                                   |
|       Esc H       |          | Cursor home.                                                                                                                                                                    |
|       Esc I       |          | Cursor up, scrolls if at top of screen.                                                                                                                                         |
|    Esc i \<n\>    |          | Select ink colour **n**.<br> n=**00h**: green on black<br> n=**02h**: red on black<br> n=**04h**: blue on white (black on green in FAST VIDEO mode)<br> n=**06h**: black on red |
|       Esc J       |          | Erase to end of screen, don't move cursor.                                                                                                                                      |
|       Esc j       |          | Clear screen and home cursor.                                                                                                                                                   |
|       Esc K       |          | Erase to end of line, don't move cursor.                                                                                                                                        |
|       Esc L       |          | Insert a line above cursor line, scroll rest of screen down. Leave cursor at start of new blank line.                                                                           |
|       Esc l       |          | Erase entire line, don't move cursor.                                                                                                                                           |
|       Esc M       |          | Delete cursor line, scrolling rest of screen up. Leave cursor at start of next line.                                                                                            |
|      Esc x 4      |          | Select block cursor                                                                                                                                                             |
|      Esc x 5      |          | Cursor off.                                                                                                                                                                     |
| Esc Y \<n\> \<m\> |          | Position cursor at row **n** column **m**. Top left of screen is n=m=20h (ASCII space).                                                                                         |
|      Esc y 4      |          | Select underscore cursor.                                                                                                                                                       |
|      Esc y 5      |          | Cursor on.                                                                                                                                                                      |
